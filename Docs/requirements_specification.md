# 需求规格说明书

## 0. 目录

* [需求规格说明书](#需求规格说明书)
  * [0. 目录](#0-目录)
  * [1. 引言](#1-引言)
    * [1.1 目的](#11-目的)
    * [1.2 背景](#12-背景)
    * [1.3 定义](#13-定义)
    * [1.4 参考文献](#14-参考文献)
  * [2. 项目概述](#2-项目概述)
    * [2.1 产品背景](#21-产品背景)
    * [2.2 产品描述](#22-产品描述)
    * [2.3 产品功能](#23-产品功能)
    * [2.4 未来市场](#24-未来市场)
  * [2.5 应用目标与作用范围](#25-应用目标与作用范围)
    * [2.6 用户场景](#26-用户场景)
    * [2.7 假设与约束](#27-假设与约束)
      * [2.7.1 假设](#271-假设)
      * [2.7.2 约束](#272-约束)
  * [3. 具体需求](#3-具体需求)
    * [3.1 外部接口需求](#31-外部接口需求)
      * [3.1.1 用户接口](#311-用户接口)
      * [3.1.2 硬件接口](#312-硬件接口)
      * [3.1.3 软件接口](#313-软件接口)
      * [3.1.4 通信接口](#314-通信接口)
    * [3.2 功能需求](#32-功能需求)
      * [3.2.1 界面设计](#321-界面设计)
        * [登录](#登录)
        * [首页](#首页)
        * [记录](#记录)
        * [文章](#文章)
        * [流星](#流星)
        * [用户信息](#用户信息)
      * [3.2.2 UML类图](#322-uml类图)
    * [3.3 性能需求](#33-性能需求)
      * [3.3.1 精度需求](#331-精度需求)
      * [3.3.2 静态数量化需求](#332-静态数量化需求)
      * [3.3.3 动态数量化需求](#333-动态数量化需求)
    * [3.4 属性](#34-属性)
      * [3.4.1 可用性](#341-可用性)
      * [3.4.2 安全性](#342-安全性)
      * [3.4.3 可维护性](#343-可维护性)
  * [4. 验证验收标准](#4-验证验收标准)
    * [4.1 文档验收标准](#41-文档验收标准)
    * [4.2 软件验收标准](#42-软件验收标准)
    * [4.3 界面验收标准](#43-界面验收标准)
    * [4.4 功能验收标准](#44-功能验收标准)

<!-- pagebreak -->

## 1. 引言

### 1.1 目的

&emsp;&emsp;为明确软件需求、安排项目规划与进度、组织软件开发与测试，撰写本文档。 该文档详尽说明了这一软件产品的需求和规格，这些规格说明是进行设计开发工作的基础和编写测试的主要依据以及验收的标准。

&emsp;&emsp;该文档面向的读者：

* 项目经理：项目经理根据该文档了解预期产品的功能，并据此进行系统设计
* 设计员：对需求进行分析，并设计出系统，包括数据库的设计
* 程序员：了解系统功能，开发编码
* 测试员：根据本文档对软件产品进行功能性测试和非功能性测试
* 用户：了解预期产品的功能和性能，并与分析人员一起对整个需求进行讨论和协商

### 1.2 背景

软件名称：Stardust
项目任务提出者：福州大学数学与计算机科学学院教学办
项目任务：软件工程课程实践
项目开发者：福州大学2015级软件工程实践 S.W.S.D.（Snow White and the Seven Dwarfs）小组

&emsp;&emsp;本项目需求系根据实际用户问卷调查且充分考虑潜在用户的实际情况，同时经过了大量的小组讨论后得出的大致软件需求，与其他软件或组织机构没有关系。

### 1.3 定义

<!-- pagebreak -->

| 序号   | 缩写      | 定义                                       |
| ---- | ------- | ---------------------------------------- |
| 1.   | App     | 应用程序，Application 的缩写，一般指手机软件。            |
| 2.   | Android | Android 是一种基于 Linux 的自由及开放源代码的操作系统，主要使用于移动设备，如智能手机和平板电脑，由 Google 公司和开放手机联盟领导及开发。 |
| 3.   | Bug     | 狭义概念是指软件程序的漏洞或缺陷，广义概念除此之外还包括测试工程师或用户所发现和提出的软件可改进的细节、或与需求文档存在差异的功能实现等。 |
| 4.   | 流星      | 来自其他用户匿名分享的记录。                           |

### 1.4 参考文献

&emsp;&emsp;《GB9385-2008 计算机软件需求规格说明规范》

---

## 2. 项目概述

### 2.1 产品背景

&emsp;&emsp;根据简单心理与北京大学联合发布的《2016 心理健康认知度及心理咨询行业调查报告》显示，有 98.1% 的被调查者表示目前正在面临心理困扰，因此我们着眼大量这样的都市男女、懵懂青年，和倍感压力的中年人以及更多人群，提供传统的电子日记与心理分析、协助心理治愈相结合的方式，来促进当代人们的心理健康。

### 2.2 产品描述

&emsp;&emsp;Stardust，以下称本产品。本产品是基于 Android 平台的一个结合了多种形式的日记记录、分析情绪以智能推荐心理文章、非互动式分享个人日记记录等功能的，用以辅助心理治愈功能的 App。

### 2.3 产品功能

&emsp;&emsp;本产品主要有以下功能，可能随着版本迭代而适当增删。

* 心理记录隐私化，营造私人空间感
* 分析用户日记的情绪以智能推荐心理文章，辅助心理治愈
* 匿名分享与浏览日记

### 2.4 未来市场

&emsp;&emsp;本产品核心立足于辅助心理治愈，之后可与专业的医师、组织合作，提供更加丰富有效的心理健康解决方案，而市面已有产品不能满足该类需求。因而未来市场相对广阔。

## 2.5 应用目标与作用范围

&emsp;&emsp;本产品适用于热爱记日记的人群、需要私密空间倾诉的群体，面向的年龄段主要为青年和中年。此类用户可能时常出现一些情绪上的小问题，诸如：感到孤独、生活受挫等，寻求一个倾诉和记录个人情绪的私密空间、辅助自我心理治愈的软件。

### 2.6 用户场景

| 甲用户   |                                          |
| ----- | ---------------------------------------- |
| 心理情况  | 没有重大心理创伤，但偶尔有负面情绪却往往郁结在心、没有较好的解决方式       |
| 典型情况  | 1. 朋友心情不好，莫名其妙的和我吵了一架，我不理解为什么会变成这样； 2. 虽然和女朋友在一起很久了，但我还是对她的一些小毛病难以容忍，这是我的问题吗？3. 别人眼里的我总是阳光开朗的样子，可我却偶尔会在非常热闹的集体中感到孤独，其实独处的时候可能更令我放松 |
| 动机、目的 | 心情很郁闷，但觉得是自己私人的事情没必要向别人去说，于是写下了自己对这件事的感受和想法，也许还有试图去客观的分析原因，也许能得出一定的结论，在自我对话中逐渐感到心情平和 |
| 典型场景  | 通过记录自己对这件事的感受和想法，在自我对话中逐渐和自己和好，App 通过分析情绪以智能推送文章，辅助治愈心理 |
| 用户定位  | 项目的最大潜在用户，同时也是项目的最大受益用户                  |

| 乙用户   |                                          |
| ----- | ---------------------------------------- |
| 心理情况  | 曾有过感情或其他方面的重大心理创伤、或来自原生家庭的重大负面阴影，虽然已经不再常有强烈的负面情绪，但性格和处事方面有受到一定的影响 |
| 典型情况  | 1. 虽然经历过感情创伤，但现在感情美满，却仍然时常有不安全感，觉得需要放弃自己的权利去满足才能获得对方的认可；2. 对待婚姻不自然，闪婚秒离，经历了两段婚姻，但现在终于找回生活的主动权 |
| 动机、目的 | 对待事情常常有很深刻的认识，偶尔会记录下来之后回阅。但记录不多，以阅读心理文章获得更深的自我认知和翻阅及回应他人的分享记录为主 |
| 典型场景  | 偶尔记录日记，更习惯翻阅推荐的文章和他人的分享，引发自身的共鸣          |
| 用户定位  | 此类用户数量少，但能最好和最充分的使用这个项目                  |

| 丙用户   |                                          |
| ----- | ---------------------------------------- |
| 心理情况  | 没什么大毛病，对生活相对乐观，能较快的化解负面情绪                |
| 典型情况  | 虽然和朋友吵了一架，但被哥们拉着一起吃了顿烧烤现在心情爆炸好，觉得其实都是小事，一切都可以解决 |
| 动机、目的 | 虽然觉得发记录挺麻烦的，但还是很乐于偶尔看看心理文章               |
| 典型场景  | 对心理文章有较大兴趣，通过阅读心理文章丰富自身知识和指导以后的行动        |
| 用户定位  | 项目的心理文章推荐功能对这些用户吸引力较大                    |

| 丁用户   |                                       |
| ----- | ------------------------------------- |
| 心理情况  | 未知                                    |
| 典型情况  | 非常喜欢和习惯写日记                            |
| 动机、目的 | 对心理方面需求不高，但对于隐私化的日记式 APP 感兴趣，经常在上面写日记 |
| 典型场景  | 大量使用日记记录功能，享受自己的私人空间                  |
| 用户定位  | 用户数量中等偏少，希望有精美的 UI，方便的文本编辑来完成大量的日记记录  |

| 戊用户   |                                     |
| ----- | ----------------------------------- |
| 心理情况  | 未知                                  |
| 典型情况  | 未知                                  |
| 动机、目的 | 没有使用兴趣，单纯出于破坏                       |
| 典型场景  | 分享较多垃圾信息、举报较多正常记录                   |
| 用户定位  | 恶劣的破坏性用户。遇到此类情况将通过举报和审查的方式对该类用户进行处理 |

### 2.7 假设与约束

#### 2.7.1 假设

* 可操作性：假设使用本产品的用户在经过一段时间的熟悉后，可以灵活地操作本产品
* 用户支持：假设本产品开发的各个环节中得到用户的有效支持和积极配合
* 技术支持：假设开发初期，项目架构设计合理，小组成员充分认识本产品的需求，认真学习相关知识。开发过程中遇到的技术问题可以及时得到老师的指导与帮助。开发后期，团队熟练掌握适用于该项目的技术，充分优化系统性能
* 人员配合：假设团队成员的积极合作配合，为了项目的开发和实施，能够合理规划个人时间，并且在必要时，能为团队做出合理牺牲，配合队友完成任务。若小组成员变动，新旧成员能够出色地交接和快速了解项目、投入开发；若小组成员无变动，则假设项目开发过程中不会有突发情况导致项目成员无法正常参与开发工作
* 时间限定：假设项目截止日期不会提前
* 需求限定：假设项目需求确定后不会有太大改动

#### 2.7.2 约束

* 人员约束：团队成员皆为大三学生，共 8 人
* 管理约束
  * 本次开发实行以一人担任组长，分工合作的模式进行。力求每个人的分工涉及开发过程中的所有流程，并按照进度表进行，开发过程遇到的问题通过小组会议得到一致解决
  * 小组成员首次合作，需要一个磨合的过程，需要明确自身责任，分清各自任务，互相配合，遇到问题组长必须能进行有效的协调，才能快速、较好地完成开发过程
* 技术约束：小组成员在相关技术水平方面存在一定的欠缺，缺乏相关的项目经验，需要在开发中并发学习多种技术和能力；在文档编写能力方面也有待提升
* 时间约束：本项目开发周期短，时间相对紧张，两个月的开发时间需要开发者合理规划时间，做到多项任务并发
* 其他约束：开发期间，小组成员还有其他科目的学习任务，将对项目进度造成一定影响

---

## 3. 具体需求

### 3.1 外部接口需求

#### 3.1.1 用户接口

&emsp;&emsp;无特殊需求。

#### 3.1.2 硬件接口

&emsp;&emsp;手机系统需要 Android 4.0 及以上。

#### 3.1.3 软件接口

&emsp;&emsp;无特殊需求。

#### 3.1.4 通信接口

&emsp;&emsp;无特殊需求。

### 3.2 功能需求

#### 3.2.1 界面设计

##### **登录**

* **登录界面**

  用户输入邮箱/用户名、密码登录系统。

  ![1](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/1.jpg)

* **注册界面**

  用户输入邮箱/用户名、密码、确认密码注册。

  ![2](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/2.jpg)

##### **首页**

* **主界面**

  用户记录按时间索引，界面中的光点即用户在该天发布的记录。按住界面下方的日期上下滑动修改，点击光点进入“查看记录界面”。

  最下方的五个选项按钮分别是：”首页“、”文章“、”发记录“、”流星“、”个人信息“。

  ![3](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/3.jpg)

##### 记录

* **编辑记录**

  ![5](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/4.jpg)

* **查看记录**

  ![4](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/5.jpg)

* **分享记录**

  ![6](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/6.jpg)

##### **文章**

* **文章列表界面**

  点击列表中任意一条进入”文章详情界面“。

  ![7](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/7.jpg)

* **文章详情界面**

  左右滑动或点击下方的左右箭头切换文章。

  ![8](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/8.jpg)

##### **流星**

* **流星列表界面**

  点击列表中任意一条进入”流星详情界面“。

  ![9](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/9.jpg)

* **流星详情界面**

  ![10](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/10.jpg)

##### **用户信息**

* **查看个人信息界面**

  点击右上角齿轮图标进入“设置个人信息界面“。

  ![11](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/11.jpg)

* **编辑个人信息界面**

  当“开启密码锁”为 ON 状态时，“设置密码锁”将被激活。

  ![12](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/UI/12.jpg)

#### 3.2.2 UML 类图

![类图](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/classes.png)

### 3.3 性能需求

#### 3.3.1 精度需求

| 类别     | 字段   |                  | 精度            |
| ------ | ---- | ---------------- | ------------- |
| **用户** | 用户ID | userID           | 6-9 位数字       |
|        | 用户名  | userName         | 6-18 位数字或字母   |
|        | 密码   | password         | 6-18 位数字或字母   |
|        | 注册时间 | registrationTime | 16 位数字或字母     |
|        | 头像   | avatar           | 不超过 1MB 的图片   |
|        | 记录集  | noteSet          | 不超过 5MB       |
|        | 应用锁  | appLock          | 6-18 位数字或字母   |
| **文章** | 标题   | title            | 不超过 64 个字符    |
|        | 作者   | auther           | 不超过 64 个字符    |
|        | 内容   | content          | 不超过 10000 个字符 |
|        | 链接   | url              | 不超过 128 个字符   |
| **记录** | 记录ID | noteID           | 6-9 位数字       |
|        | 内容   | content          | 不超过 10000 个字符 |
|        | 发布时间 | releaseTime      | 16 位数字或字母     |
|        | 归属   | ascription       | 6-9 位数字       |
|        | 分享状态 | isShared         | 布尔型           |

#### 3.3.2 静态数量化需求

&emsp;&emsp;静态数量化需求包括以下方面：

* 支持的终端数量：2000
* 支持的同时在线人数：1000
* 服务器的容量：500G

#### 3.3.3 动态数量化需求

&emsp;&emsp;暂无此类需求。

### 3.4 属性

#### 3.4.1 可用性

* 界面优美，操作简单。当涉及“删除”等危险操作时，系统会先给予确认提示
* 稳定性：迭代开发，不断更新版本，修复 Bug，使系统更稳定
* 并发性：能够保证一定数量的用户同时在线使用
* 容错能力：系统具有一定的容错能力，非硬件或通讯故障均能保持运行

#### 3.4.2 安全性

* 故障处理：系统应能够记录错误信息、生成错误日志，并及时恢复现场
* 访问控制：对普通用户设置访问权限，防止访问越界
* 安全存储：数据库保存在服务器端，定期备份，确保数据不丢失

#### 3.4.3 可维护性

* 使用 Github 进行源码管理，保留各版本的源代码
* 文档及代码均遵循事先预定的规范
* 提供用户反馈渠道，确保及时发现和修复 Bug

---

## 4. 验证验收标准

### 4.1 文档验收标准

&emsp;&emsp;文档编写符合国际文档编写规范。

* 软件需求规格说明书
* 项目开发计划书

### 4.2 软件验收标准

&emsp;&emsp;软件一切功能正常，运行流畅，不卡顿，不闪退。对大部分 Android 手机适配。

* 移动端（Android 用于用户体验）
* 服务器端（用于支持移动端正常运行）

### 4.3 界面验收标准

&emsp;&emsp;界面流畅，不闪退。各个界面之间正常切换。屏幕不出现闪烁或者部分地方有黑点的现象。

&emsp;&emsp;用户界面：

| 序号   | 界面名称     |                   界面描述                   |
| ---- | -------- | -------------------------------------- |
| 1    | 登录页面     | 有背景图，中间偏上上方显示 Logo，中间为用户信息输入框，包括“用户名/邮箱”和“密码”，其下方为登录按钮和注册按钮 |
| 2    | 注册页面     | 有背景图，中间偏上上方显示 Logo，中间为用户信息输入框，包括“用户名/邮箱”和“输入密码”、“确认密码”，其下方为注册按钮 |
| 4    | 首页界面     | 有背景图，中间偏上上方显示 Logo，下方显示日期，中间随机分布的光点是进入记录详情页的按钮。最下面一排的5个图标，从左往右依次对应“首页”，“文章”，“发记录”，“流星”，“个人”界面 |
| 5    | 文章页面     | 最顶栏显示文章小图标和“文章”，下方是文章列表。每条文章的最顶端为标题，下方左侧小字为作者名、右侧为小字显示时间，下方主体为内容概要，右下角为进入文章详情页的小字“More”按钮 |
| 6    | 文章详情页面   | 最顶栏显示文章作者，左上角为返回按钮。主体的顶部显示文章的标题，其左下方小字显示作者，右下方小字显示发布时间。下方为文章内容。页面的左下角、右下角有用以切换文章页的小箭头 |
| 7    | 发记录页面    | 最顶栏左上角为返回按钮，右上角有“保存”、“删除”按钮。下方主体为富文本编辑器。底栏五个图片按钮为：选择图片、选择字体、撤回、恢复、录音 |
| 8    | 流星页面     | 最顶栏显示流星小图标和“流星”，下方是流星列表。左右分栏排布，每条“流星”的文字框中显示内容概要 |
| 9    | 个人信息页面   | 最顶栏右侧为进入设置页面的小齿轮图标。主体的上方为个人信息，包括圆形显示的用户头像，和头像下方的用户昵称。个人信息下方显示使用时间、记录个数、以及心情信息。心情信息一览右侧有小字“描述不对？”点击可修改描述 |
| 10   | 个人信息设置页面 | 最顶栏内容为“设置”，左侧有返回按钮。下方为“修改头像”、“修改用户名”、“修改密码”、“开启密码锁”、“设置密码锁”。仅当“开启密码锁”开关被选为 ON 状态时，“设置密码锁”被激活为可编辑状态 |

### 4.4 功能验收标准

&emsp;&emsp;需求四象限及各阶段验收标准如图：

![验收](https://raw.githubusercontent.com/StardustProject/Stardust/dev/Docs/images/requirements.png)
